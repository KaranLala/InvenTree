import{r as o,j as e,S as b,i as r,bP as i,s as d,fb as x}from"./vendor-c9tu_e1b.js";import{A as E}from"./ActionButton-Cn3lAMG1.js";import{a as h,e as c,A as n,E as C}from"./index-C-YqHYR0.js";import{F as j}from"./FactCollection-zrKIfWOz.js";import{G as R}from"./SettingList-Bx7uAi1U.js";import{u as y,I as A}from"./InvenTreeTable-_nPJoCLK.js";import"./ThemeContext-CVPHi9Q7.js";import"./DesktopAppView-Bg1vO8uy.js";import"./UseForm-21BEg7Md.js";import"./index-D1sX3jYA.js";import"./QRCode-4MaRh6JQ.js";import"./browser-oJrDmCBJ.js";function T({setInfo:t}){const s=y("currency","currency"),l=o.useMemo(()=>[{accessor:"currency",title:r._({id:"Q2lUR2"}),switchable:!1},{accessor:"rate",title:r._({id:"fqDzSu"}),switchable:!1}],[]),u=o.useCallback(()=>{h.post(c(n.currency_refresh),{}).then(()=>{s.refreshTable(),d({title:r._({id:"zzDlyQ"}),message:r._({id:"aQFOy1"}),color:"green"})}).catch(a=>{C({error:a,title:r._({id:"OZSHCs"})})})},[]),m=o.useMemo(()=>[e.jsx(E,{onClick:u,tooltip:r._({id:"HQlD/8"}),icon:e.jsx(x,{})},"refresh")],[]);return e.jsx(A,{url:c(n.currency_list),tableState:s,columns:l,props:{tableActions:m,dataFormatter:a=>{t(a);const p=a.exchange_rates??{};return Object.entries(p).map(([_,f])=>({currency:_,rate:f}))}}})}function L(){const[t,s]=o.useState({});return e.jsxs(b,{gap:"xs",children:[e.jsx(j,{items:[{title:r._({id:"h+ZkcR"}),value:t==null?void 0:t.updated},{title:r._({id:"3pmGAW"}),value:t==null?void 0:t.base_currency}]}),e.jsx(i,{}),e.jsx(T,{setInfo:s}),e.jsx(i,{}),e.jsx(R,{keys:["INVENTREE_DEFAULT_CURRENCY","CURRENCY_UPDATE_PLUGIN","CURRENCY_UPDATE_INTERVAL"]})]})}export{T as CurrencyTable,L as default};
//# sourceMappingURL=CurrencyManagementPanel-ChJCoNBs.js.map
