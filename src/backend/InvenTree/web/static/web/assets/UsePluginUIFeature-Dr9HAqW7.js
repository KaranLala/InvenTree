import{r as i,bO as f}from"./vendor-c9tu_e1b.js";import{f as m,a as p,e as g,A as E}from"./index-C-YqHYR0.js";import{u as d,f as F}from"./PluginSource-CpS38oS9.js";function b({enabled:c=!0,featureType:t,context:n}){const s=m(),o=i.useMemo(()=>s.isSet("ENABLE_PLUGINS_INTERFACE"),[s]),{data:r}=f({enabled:o&&!!t&&c,queryKey:["custom-ui-features",t,JSON.stringify(n)],queryFn:async()=>!o||!t?Promise.resolve([]):p.get(g(E.plugin_ui_features_list,void 0,{feature_type:t}),{params:n}).then(e=>e.data).catch(e=>(console.error(`ERR: Failed to fetch plugin ui features for feature "${t}":`,e),[]))}),u=d();return i.useMemo(()=>(r==null?void 0:r.map(e=>({options:{...e},func:async l=>{const a=await F(e.source,"getFeature");if(a)return a({featureContext:l,inventreeContext:u,serverContext:e.context})}})))||[],[r,u])}export{b as u};
//# sourceMappingURL=UsePluginUIFeature-Dr9HAqW7.js.map
