import{r as n,j as t,cx as h,i,G as j,bS as a,bx as g,S as I}from"./vendor-c9tu_e1b.js";import{b as S,f as P,A as k,m as B}from"./index-C-YqHYR0.js";import{I as D,D as r,a as M}from"./InstanceDetail-BhafbIJP.js";import"./browser-oJrDmCBJ.js";import{p as v}from"./ThemeContext-CVPHi9Q7.js";import{P as E}from"./PageDetail-UrmB-yLk.js";import{P as F}from"./PanelGroup-Dx-tKZpU.js";import"./DesktopAppView-Bg1vO8uy.js";import"./UseForm-21BEg7Md.js";import{u as U}from"./UseInstance-Z-QOK6WR.js";import"./index-D1sX3jYA.js";import"./YesNoButton-BdKeJbQO.js";import"./formatters-1-K9MQML.js";import"./ModelType-CepomS9H.js";import"./GenericErrorPage-RCGZWWhe.js";import"./NotFound-Cglkc0xC.js";import"./PermissionDenied-D4im8ofc.js";import"./PageTitle-BiZTQEW1.js";import"./PluginSource-CpS38oS9.js";import"./RemoteComponent-BK_-mK5N.js";import"./ActionButton-Cn3lAMG1.js";function ee(){const{id:l}=v(),m=S(),c=P(),{instance:e,instanceQuery:s}=U({endpoint:k.user_list,pk:l}),o=n.useMemo(()=>(e==null?void 0:e.groups)??[],[e]),p=n.useMemo(()=>{if(s.isFetching)return t.jsx(h,{});const f=[{type:"text",name:"username",label:i._({id:"7sNhEz"}),icon:"info",copy:!0},{type:"text",name:"first_name",label:i._({id:"kODvZJ"}),icon:"info",copy:!0,hidden:!e.first_name},{type:"text",name:"last_name",label:i._({id:"UXBCwc"}),icon:"info",copy:!0,hidden:!e.last_name},{type:"text",name:"email",label:i._({id:"O3oNi5"}),copy:!0,hidden:!e.email}],x=[{type:"boolean",name:"is_active",label:i._({id:"F6pfE9"}),icon:"info"},{type:"boolean",name:"is_staff",label:i._({id:"uXsB4R"}),icon:"info"},{type:"boolean",name:"is_superuser",label:i._({id:"agYOFs"}),icon:"info"},{type:"text",name:"groups",label:i._({id:"zhrjek"}),icon:"group",copy:!1,hidden:!o,value_formatter:()=>t.jsx(j,{gap:"xs",children:o==null?void 0:o.map(d=>t.jsx(a,{children:d.name},d.pk))})}],y=[{type:"text",name:"displayname",label:i._({id:"0gS7M5"}),icon:"user",copy:!0,hidden:!e.displayname},{type:"text",name:"position",label:i._({id:"p/78dY"}),icon:"info",hidden:!e.position},{type:"text",name:"contact",label:i._({id:"jfC/xh"}),icon:"email",copy:!0,hidden:!e.contact},{type:"text",name:"organisation",label:i._({id:"LB3Kje"}),icon:"info",copy:!0,hidden:!e.organisation},{type:"text",name:"status",label:i._({id:"uAQUqI"}),icon:"note",hidden:!e.status},{type:"text",name:"location",label:i._({id:"wJijgU"}),icon:"location",copy:!0,hidden:!e.location}],b=e.displayname||e.position||e.contact||e.organisation||e.status||e.location;return t.jsxs(D,{children:[t.jsx(r,{fields:f,item:e,title:i._({id:"J5T9NW"})}),t.jsx(r,{fields:x,item:e,title:i._({id:"gaqkMv"})}),b&&c.isSet("DISPLAY_PROFILE_INFO")&&t.jsx(r,{fields:y,item:e,title:i._({id:"WzMCru"})})]})},[e,o,s]),u=n.useMemo(()=>[{name:"detail",label:i._({id:"anfIXl"}),icon:t.jsx(g,{}),content:p}],[e,l,m]),_=n.useMemo(()=>s.isLoading?[]:[e.is_staff&&t.jsx(a,{color:"blue",children:i._({id:"uXsB4R"})},"is_staff"),e.is_superuser&&t.jsx(a,{color:"red",children:i._({id:"agYOFs"})},"is_superuser"),!e.is_staff&&!e.is_superuser&&t.jsx(a,{color:"yellow",children:i._({id:"lej8Sf"})},"is_normal"),e.is_active?t.jsx(a,{color:"green",children:i._({id:"F6pfE9"})},"is_active"):t.jsx(a,{color:"red",children:i._({id:"NoNwIX"})},"is_inactive")],[e,s]);return t.jsx(M,{query:s,children:t.jsxs(I,{gap:"xs",children:[t.jsx(E,{title:`${i._({id:"7PzzBU"})}: ${e.username}`,imageUrl:e==null?void 0:e.image,badges:_,breadcrumbs:[{name:i._({id:"u6wzjB"}),url:"/core/"},{name:i._({id:"Sxm8rQ"}),url:"/core/index/users/"}],lastCrumb:[{name:e.username,url:`/core/user/${e.pk}/`}]}),t.jsx(F,{pageKey:"user",panels:u,model:B.user,id:e.pk,instance:e,reloadInstance:s.refetch})]})})}export{ee as default};
//# sourceMappingURL=UserDetail-B4-hMwyw.js.map
