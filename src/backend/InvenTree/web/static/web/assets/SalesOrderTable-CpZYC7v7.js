import{r as l,i as r,j as t}from"./vendor-c9tu_e1b.js";import{b as f,A as C}from"./UseForm-21BEg7Md.js";import{b as F,m as a,A as m,U as y,e as h}from"./index-C-YqHYR0.js";import{a as j}from"./formatters-1-K9MQML.js";import{u as ee}from"./ReturnOrderForms-DjkxHVm_.js";import{u as x,b as D,c as T,d as S,A as g,M as A,e as R,C as M,f as V,T as O,g as B,S as U,h as w,i as P,j as k,H as v,k as E,l as J,m as K,n as Z,I as z}from"./InvenTreeTable-_nPJoCLK.js";import{R as H,D as L,a as N,S as W,b as q,c as G,d as Q,e as X,T as Y,f as re,g as $,C as I,i as te}from"./ColumnRenderers-6-W27ey5.js";import{P as se}from"./index-D1sX3jYA.js";import{u as ae}from"./SalesOrderForms-DpTkhoXL.js";function _e({partId:s,customerId:o}){const c=x(s?"returnorders-part":"returnorders-index"),n=F(),p=l.useMemo(()=>{const e=[D({model:a.returnorder}),T(),S(),g(),A(),R(),M(),V(),O(),B(),U(),w(),{name:"has_target_date",type:"boolean",label:r._({id:"egtJvp"}),description:r._({id:"hnmJUh"})},{name:"has_start_date",type:"boolean",label:r._({id:"7Cajbj"}),description:r._({id:"dklbxT"})},P(),k(),v(),E(),J(),K()];return s&&e.push(Z()),e},[s]),_=l.useMemo(()=>[H({}),{accessor:"customer__name",title:r._({id:"876pfE"}),sortable:!0,render:e=>t.jsx(I,{company:e.customer_detail})},{accessor:"customer_reference"},L({}),N(),W({model:a.returnorder}),q({defaultVisible:!1}),G({defaultVisible:!1}),Q({defaultVisible:!1}),X({defaultVisible:!1}),Y({}),re({accessor:"complete_date"}),$({}),{accessor:"total_price",title:r._({id:"KyZVKD"}),sortable:!0,render:e=>{var i;return j(e.total_price,{currency:e.order_currency||((i=e.customer_detail)==null?void 0:i.currency)})}}],[]),d=ee({}),u=f({url:m.return_order_list,title:r._({id:"mpNlR/"}),fields:d,initialData:{customer:o},follow:!0,modelType:a.returnorder}),b=l.useMemo(()=>[t.jsx(C,{tooltip:r._({id:"mpNlR/"}),onClick:()=>u.open(),hidden:!n.hasAddRole(y.return_order)},"add-return-order")],[n]);return t.jsxs(t.Fragment,{children:[u.modal,t.jsx(z,{url:h(m.return_order_list),tableState:c,columns:_,props:{params:{part:s,customer:o,customer_detail:!0},tableFilters:p,tableActions:b,modelType:a.returnorder,enableSelection:!0,enableDownload:!0,enableReports:!0}})]})}function be({partId:s,customerId:o}){const c=x(s?"salesorder-part":"salesorder-index"),n=F(),p=l.useMemo(()=>{const e=[D({model:a.salesorder}),T(),S(),g(),A(),R(),M(),V(),O(),B(),U(),w(),{name:"has_target_date",type:"boolean",label:r._({id:"egtJvp"}),description:r._({id:"hnmJUh"})},{name:"has_start_date",type:"boolean",label:r._({id:"7Cajbj"}),description:r._({id:"dklbxT"})},P(),k(),v(),E(),J(),K()];return s&&e.push(Z()),e},[s]),_=ae({}),d=f({url:m.sales_order_list,title:r._({id:"VzdnWM"}),fields:_,initialData:{customer:o},follow:!0,modelType:a.salesorder}),u=l.useMemo(()=>[t.jsx(C,{tooltip:r._({id:"VzdnWM"}),onClick:()=>d.open(),hidden:!n.hasAddRole(y.sales_order)},"add-sales-order")],[n]),b=l.useMemo(()=>[H({}),{accessor:"customer__name",title:r._({id:"876pfE"}),sortable:!0,render:e=>t.jsx(I,{company:e.customer_detail})},{accessor:"customer_reference",title:r._({id:"ZVUe1A"})},L({}),N(),{accessor:"shipments_count",title:r._({id:"aljM0q"}),render:e=>t.jsx(se,{progressLabel:!0,value:e.completed_shipments_count,maximum:e.shipments_count})},W({model:a.salesorder}),q({defaultVisible:!1}),G({defaultVisible:!1}),Q({defaultVisible:!1}),X({defaultVisible:!1}),Y({}),te({}),$({}),{accessor:"total_price",title:r._({id:"KyZVKD"}),sortable:!0,render:e=>{var i;return j(e.total_price,{currency:e.order_currency||((i=e.customer_detail)==null?void 0:i.currency)})}}],[]);return t.jsxs(t.Fragment,{children:[d.modal,t.jsx(z,{url:h(m.sales_order_list),tableState:c,columns:b,props:{params:{customer_detail:!0,part:s,customer:o},tableFilters:p,tableActions:u,modelType:a.salesorder,enableSelection:!0,enableDownload:!0,enableReports:!0}})]})}export{_e as R,be as S};
//# sourceMappingURL=SalesOrderTable-CpZYC7v7.js.map
