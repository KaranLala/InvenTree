import{r as s,i as e,j as l,bS as y}from"./vendor-c9tu_e1b.js";import{b as h,u as G,a as I,A as E}from"./UseForm-21BEg7Md.js";import{u as U,R as V,Z as B,a as N,I as O}from"./InvenTreeTable-_nPJoCLK.js";import{y as z,b as Q,B as j,A as i,U as m,e as q}from"./index-C-YqHYR0.js";import{u as p}from"./CommonForms-CCxz_oyT.js";import"./DesktopAppView-Bg1vO8uy.js";import"./ThemeContext-CVPHi9Q7.js";import"./ActionButton-Cn3lAMG1.js";import"./index-D1sX3jYA.js";import"./QRCode-4MaRh6JQ.js";import"./browser-oJrDmCBJ.js";function et(){const o=U("customstates"),r=z(),_=s.useCallback((t,c)=>{const u=Object.values(r.status??{}).find(d=>d.status_class===t),a=Object.values((u==null?void 0:u.values)??{}).find(d=>d.key===c);return(a==null?void 0:a.label)??(a==null?void 0:a.name)??""},[r]),n=Q(),T=s.useMemo(()=>[{name:"reference_status",label:e._({id:"TGcVE+"}),field_type:"choice",choices:Object.values(r.status??{}).map(t=>({label:t.status_class,value:t.status_class}))}],[r]),g=s.useMemo(()=>[{accessor:"reference_status",title:e._({id:"uAQUqI"}),sortable:!0},{accessor:"logical_key",title:e._({id:"Iz1I4v"}),sortable:!0,render:t=>{const c=_(t.reference_status,t.logical_key);return c||t.logical_key}},{accessor:"name",title:e._({id:"sJGljQ"}),sortable:!0},{accessor:"label",title:e._({id:"0gS7M5"}),sortable:!0},{accessor:"key",sortable:!0},{accessor:"color",render:t=>l.jsx(y,{color:j[t.color]||j.default,variant:"filled",size:"xs",children:t.color})}],[_]),F=p(),M=p(),R=p(),[v,b]=s.useState({}),S=h({url:i.custom_state_list,title:e._({id:"vTGxVN"}),fields:F,table:o}),C=h({url:i.custom_state_list,title:e._({id:"vTGxVN"}),fields:M,initialData:v,table:o}),[f,k]=s.useState(void 0),A=G({url:i.custom_state_list,pk:f,title:e._({id:"/viGTM"}),fields:R,table:o}),x=I({url:i.custom_state_list,pk:f,title:e._({id:"Yrs5A6"}),table:o}),D=s.useCallback(t=>[V({hidden:!n.hasChangeRole(m.admin),onClick:()=>{k(t.pk),A.open()}}),B({hidden:!n.hasAddRole(m.admin),onClick:()=>{b(t),C.open()}}),N({hidden:!n.hasDeleteRole(m.admin),onClick:()=>{k(t.pk),x.open()}})],[n]),w=s.useMemo(()=>[l.jsx(E,{onClick:()=>{b({}),S.open()},tooltip:e._({id:"vTGxVN"})},"add")],[]);return l.jsxs(l.Fragment,{children:[S.modal,A.modal,C.modal,x.modal,l.jsx(O,{url:q(i.custom_state_list),tableState:o,columns:g,props:{rowActions:D,tableActions:w,tableFilters:T,enableDownload:!0}})]})}export{et as default};
//# sourceMappingURL=CustomStateTable-w1MoP3Bb.js.map
