{"version":3,"mappings":"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","names":["ReportTemplatePanel","Loadable","lazy","LabelTemplatePanel","UserManagementPanel","EmailManagementPanel","TaskManagementPanel","CurrencyManagementPanel","UnitManagementPanel","PluginManagementPanel","MachineManagementPanel","PartParameterPanel","ErrorReportTable","__vitePreload","BarcodeScanHistoryTable","ExportSessionTable","ImportSessionTable","ProjectCodeTable","CustomStateTable","PartCategoryTemplateTable","LocationTypesTable","AdminCenter","user","useUserState","adminCenterPanels","useMemo","name","label","_i18n","_","id","icon","IconUsersGroup","content","hidden","hasViewRole","UserRoles","admin","IconMail","isSuperuser","IconFileUpload","IconFileDownload","IconQrcode","IconCpu","IconExclamationCircle","IconCoins","IconListDetails","jsxs","Stack","jsx","GlobalSettingList","IconScale","IconList","part","IconSitemap","part_category","IconTags","IconReport","IconPackages","stock_location","IconPlugConnected","IconDevicesPc","grouping","panelIDs","Fragment","PageTitle","isStaff","SettingsHeader","PanelGroup","PermissionDenied"],"ignoreList":[],"sources":["../../../../../../frontend/src/pages/Index/Settings/AdminCenter/Index.tsx"],"sourcesContent":["import { t } from '@lingui/core/macro';\nimport { Stack } from '@mantine/core';\nimport {\n  IconCoins,\n  IconCpu,\n  IconDevicesPc,\n  IconExclamationCircle,\n  IconFileDownload,\n  IconFileUpload,\n  IconList,\n  IconListDetails,\n  IconMail,\n  IconPackages,\n  IconPlugConnected,\n  IconQrcode,\n  IconReport,\n  IconScale,\n  IconSitemap,\n  IconTags,\n  IconUsersGroup\n} from '@tabler/icons-react';\nimport { lazy, useMemo } from 'react';\n\nimport { UserRoles } from '@lib/enums/Roles';\nimport PermissionDenied from '../../../../components/errors/PermissionDenied';\nimport PageTitle from '../../../../components/nav/PageTitle';\nimport { SettingsHeader } from '../../../../components/nav/SettingsHeader';\nimport type {\n  PanelGroupType,\n  PanelType\n} from '../../../../components/panels/Panel';\nimport { PanelGroup } from '../../../../components/panels/PanelGroup';\nimport { GlobalSettingList } from '../../../../components/settings/SettingList';\nimport { Loadable } from '../../../../functions/loading';\nimport { useUserState } from '../../../../states/UserState';\n\nconst ReportTemplatePanel = Loadable(\n  lazy(() => import('./ReportTemplatePanel'))\n);\n\nconst LabelTemplatePanel = Loadable(lazy(() => import('./LabelTemplatePanel')));\n\nconst UserManagementPanel = Loadable(\n  lazy(() => import('./UserManagementPanel'))\n);\n\nconst EmailManagementPanel = Loadable(\n  lazy(() => import('./EmailManagementPanel'))\n);\n\nconst TaskManagementPanel = Loadable(\n  lazy(() => import('./TaskManagementPanel'))\n);\n\nconst CurrencyManagementPanel = Loadable(\n  lazy(() => import('./CurrencyManagementPanel'))\n);\n\nconst UnitManagementPanel = Loadable(\n  lazy(() => import('./UnitManagementPanel'))\n);\n\nconst PluginManagementPanel = Loadable(\n  lazy(() => import('./PluginManagementPanel'))\n);\n\nconst MachineManagementPanel = Loadable(\n  lazy(() => import('./MachineManagementPanel'))\n);\n\nconst PartParameterPanel = Loadable(lazy(() => import('./PartParameterPanel')));\n\nconst ErrorReportTable = Loadable(\n  lazy(() => import('../../../../tables/settings/ErrorTable'))\n);\n\nconst BarcodeScanHistoryTable = Loadable(\n  lazy(() => import('../../../../tables/settings/BarcodeScanHistoryTable'))\n);\n\nconst ExportSessionTable = Loadable(\n  lazy(() => import('../../../../tables/settings/ExportSessionTable'))\n);\n\nconst ImportSessionTable = Loadable(\n  lazy(() => import('../../../../tables/settings/ImportSessionTable'))\n);\n\nconst ProjectCodeTable = Loadable(\n  lazy(() => import('../../../../tables/settings/ProjectCodeTable'))\n);\n\nconst CustomStateTable = Loadable(\n  lazy(() => import('../../../../tables/settings/CustomStateTable'))\n);\n\nconst PartCategoryTemplateTable = Loadable(\n  lazy(() => import('../../../../tables/part/PartCategoryTemplateTable'))\n);\n\nconst LocationTypesTable = Loadable(\n  lazy(() => import('../../../../tables/stock/LocationTypesTable'))\n);\n\nexport default function AdminCenter() {\n  const user = useUserState();\n\n  const adminCenterPanels: PanelType[] = useMemo(() => {\n    return [\n      {\n        name: 'user',\n        label: t`Users / Access`,\n        icon: <IconUsersGroup />,\n        content: <UserManagementPanel />,\n        hidden: !user.hasViewRole(UserRoles.admin)\n      },\n      {\n        name: 'email',\n        label: t`Email Settings`,\n        icon: <IconMail />,\n        content: <EmailManagementPanel />,\n        hidden: !user.isSuperuser()\n      },\n      {\n        name: 'import',\n        label: t`Data Import`,\n        icon: <IconFileUpload />,\n        content: <ImportSessionTable />\n      },\n      {\n        name: 'export',\n        label: t`Data Export`,\n        icon: <IconFileDownload />,\n        content: <ExportSessionTable />\n      },\n      {\n        name: 'barcode-history',\n        label: t`Barcode Scans`,\n        icon: <IconQrcode />,\n        content: <BarcodeScanHistoryTable />\n      },\n      {\n        name: 'background',\n        label: t`Background Tasks`,\n        icon: <IconCpu />,\n        content: <TaskManagementPanel />\n      },\n      {\n        name: 'errors',\n        label: t`Error Reports`,\n        icon: <IconExclamationCircle />,\n        content: <ErrorReportTable />\n      },\n      {\n        name: 'currencies',\n        label: t`Currencies`,\n        icon: <IconCoins />,\n        content: <CurrencyManagementPanel />\n      },\n      {\n        name: 'project-codes',\n        label: t`Project Codes`,\n        icon: <IconListDetails />,\n        content: (\n          <Stack gap='xs'>\n            <GlobalSettingList keys={['PROJECT_CODES_ENABLED']} />\n            <ProjectCodeTable />\n          </Stack>\n        )\n      },\n      {\n        name: 'custom-states',\n        label: t`Custom States`,\n        icon: <IconListDetails />,\n        content: <CustomStateTable />\n      },\n      {\n        name: 'custom-units',\n        label: t`Custom Units`,\n        icon: <IconScale />,\n        content: <UnitManagementPanel />\n      },\n      {\n        name: 'part-parameters',\n        label: t`Part Parameters`,\n        icon: <IconList />,\n        content: <PartParameterPanel />,\n        hidden: !user.hasViewRole(UserRoles.part)\n      },\n      {\n        name: 'category-parameters',\n        label: t`Category Parameters`,\n        icon: <IconSitemap />,\n        content: <PartCategoryTemplateTable />,\n        hidden: !user.hasViewRole(UserRoles.part_category)\n      },\n      {\n        name: 'labels',\n        label: t`Label Templates`,\n        icon: <IconTags />,\n        content: <LabelTemplatePanel />\n      },\n      {\n        name: 'reports',\n        label: t`Report Templates`,\n        icon: <IconReport />,\n        content: <ReportTemplatePanel />\n      },\n      {\n        name: 'location-types',\n        label: t`Location Types`,\n        icon: <IconPackages />,\n        content: <LocationTypesTable />,\n        hidden: !user.hasViewRole(UserRoles.stock_location)\n      },\n      {\n        name: 'plugin',\n        label: t`Plugins`,\n        icon: <IconPlugConnected />,\n        content: <PluginManagementPanel />,\n        hidden: !user.hasViewRole(UserRoles.admin)\n      },\n      {\n        name: 'machine',\n        label: t`Machines`,\n        icon: <IconDevicesPc />,\n        content: <MachineManagementPanel />,\n        hidden: !user.hasViewRole(UserRoles.admin)\n      }\n    ];\n  }, [user]);\n  const grouping: PanelGroupType[] = useMemo(() => {\n    return [\n      {\n        id: 'ops',\n        label: t`Operations`,\n        panelIDs: [\n          'user',\n          'barcode-history',\n          'background',\n          'errors',\n          'currencies',\n          'email'\n        ]\n      },\n      {\n        id: 'data',\n        label: t`Data Management`,\n        panelIDs: [\n          'import',\n          'export',\n          'project-codes',\n          'custom-states',\n          'custom-units'\n        ]\n      },\n      {\n        id: 'reporting',\n        label: t`Reporting`,\n        panelIDs: ['labels', 'reports']\n      },\n      {\n        id: 'plm',\n        label: t`PLM`,\n        panelIDs: [\n          'part-parameters',\n          'category-parameters',\n          'location-types',\n          'stocktake'\n        ]\n      },\n      {\n        id: 'extend',\n        label: t`Extend / Integrate`,\n        panelIDs: ['plugin', 'machine']\n      }\n    ];\n  }, []);\n\n  return (\n    <>\n      <PageTitle title={t`Admin Center`} />\n      {user.isStaff() ? (\n        <Stack gap='xs'>\n          <SettingsHeader\n            label='admin'\n            title={t`Admin Center`}\n            subtitle={t`Advanced Options`}\n          />\n          <PanelGroup\n            pageKey='admin-center'\n            panels={adminCenterPanels}\n            groups={grouping}\n            collapsible={true}\n            model='admincenter'\n            id={null}\n          />\n        </Stack>\n      ) : (\n        <PermissionDenied />\n      )}\n    </>\n  );\n}\n"],"file":"assets/Index-BPSjmVN1.js"}
