import{r as c,bO as q}from"./vendor-c9tu_e1b.js";import{e as v}from"./index-C-YqHYR0.js";import{u as w}from"./DesktopAppView-Bg1vO8uy.js";function J({endpoint:o,pk:r,params:a={},defaultValue:t={},pathParams:f,disabled:i,hasPrimaryKey:y=!0,refetchOnMount:m=!0,refetchOnWindowFocus:g=!1,updateInterval:I}){const S=w(),[O,n]=c.useState(t),e=q({enabled:!i,queryKey:["instance",o,r,JSON.stringify(a),JSON.stringify(f),i],retry:(u,s)=>{var h;return((h=s.response)==null?void 0:h.status)==404?!1:u<3},queryFn:async()=>{if(i)return t;if(y&&(r==null||r==null||r.toString().length==0||r=="-1"))return n(t),t;const u=v(o,r,f);return S.get(u,{timeout:1e4,params:a}).then(s=>{switch(s.status){case 200:return n(s.data),s.data;default:return n(t),t}})},refetchOnMount:m,refetchOnWindowFocus:g??!1,refetchInterval:I}),l=c.useMemo(()=>e.isFetched&&e.isSuccess&&!e.isError,[e]),F=c.useCallback(()=>{e.refetch()},[]),b=c.useCallback(()=>e.refetch(),[]);return{instance:O,setInstance:n,refreshInstance:F,refreshInstancePromise:b,instanceQuery:e,isLoaded:l}}export{J as u};
//# sourceMappingURL=UseInstance-Z-QOK6WR.js.map
